const a0_0xf45408=a0_0x2be2;(function(_0x442fb2,_0x39d1e5){const _0x37ed5c=a0_0x2be2,_0xc8bf57=_0x442fb2();while(!![]){try{const _0x3c59a8=-parseInt(_0x37ed5c(0x1e2))/0x1*(parseInt(_0x37ed5c(0x1f8))/0x2)+-parseInt(_0x37ed5c(0x200))/0x3*(-parseInt(_0x37ed5c(0x1dd))/0x4)+parseInt(_0x37ed5c(0x1ec))/0x5+-parseInt(_0x37ed5c(0x223))/0x6*(-parseInt(_0x37ed5c(0x225))/0x7)+parseInt(_0x37ed5c(0x1e0))/0x8*(parseInt(_0x37ed5c(0x203))/0x9)+-parseInt(_0x37ed5c(0x1ff))/0xa+parseInt(_0x37ed5c(0x1ee))/0xb*(parseInt(_0x37ed5c(0x217))/0xc);if(_0x3c59a8===_0x39d1e5)break;else _0xc8bf57['push'](_0xc8bf57['shift']());}catch(_0x5aeb08){_0xc8bf57['push'](_0xc8bf57['shift']());}}}(a0_0x5784,0xefd7b));const yts=require(a0_0xf45408(0x216)),axios=require(a0_0xf45408(0x206)),rateLimiter={'queue':[],'processing':![],'lastRequest':0x0,'minDelay':0x3e8,async 'add'(_0x3ea752){return new Promise((_0x3f018b,_0x2e5bfa)=>{const _0x509da3=a0_0x2be2;this[_0x509da3(0x21f)][_0x509da3(0x1e9)]({'fn':_0x3ea752,'resolve':_0x3f018b,'reject':_0x2e5bfa}),this[_0x509da3(0x21b)]();});},async 'process'(){const _0x10813f=a0_0xf45408;if(this['processing']||this[_0x10813f(0x21f)][_0x10813f(0x210)]===0x0)return;this[_0x10813f(0x21d)]=!![];const {fn:_0x2acd46,resolve:_0x56cacc,reject:_0x30a776}=this[_0x10813f(0x21f)][_0x10813f(0x201)](),_0x39da9f=Date['now'](),_0x41326a=_0x39da9f-this[_0x10813f(0x209)];_0x41326a<this[_0x10813f(0x226)]&&await new Promise(_0x9eaf8a=>setTimeout(_0x9eaf8a,this['minDelay']-_0x41326a));this[_0x10813f(0x209)]=Date['now']();try{const _0xdf8c9c=await _0x2acd46();_0x56cacc(_0xdf8c9c);}catch(_0x446dbe){_0x30a776(_0x446dbe);}this['processing']=![],this[_0x10813f(0x21b)]();}};async function fetchWithRetry(_0x6d7a6d,_0x543ec2=0x3,_0x5188ec=0x7d0){const _0x5399ce=a0_0xf45408;for(let _0x523941=0x1;_0x523941<=_0x543ec2;_0x523941++){try{const _0x1954c9=await axios[_0x5399ce(0x1de)](_0x6d7a6d,{'timeout':0x7530,'validateStatus':_0x170ac1=>_0x170ac1<0x1f4});if(_0x1954c9[_0x5399ce(0x1e4)]===0x1ad){const _0x7f425a=_0x1954c9[_0x5399ce(0x20f)][_0x5399ce(0x1fe)]?parseInt(_0x1954c9['headers'][_0x5399ce(0x1fe)])*0x3e8:_0x5188ec*_0x523941;if(_0x523941<_0x543ec2){console['log'](_0x5399ce(0x224)+_0x7f425a+_0x5399ce(0x219)),await new Promise(_0x317605=>setTimeout(_0x317605,_0x7f425a));continue;}throw new Error(_0x5399ce(0x1e3));}if(_0x1954c9[_0x5399ce(0x1e4)]>=0x190)throw new Error('API\x20error:\x20'+_0x1954c9[_0x5399ce(0x1e4)]+'\x20-\x20'+_0x1954c9[_0x5399ce(0x1f6)]);return _0x1954c9[_0x5399ce(0x208)];}catch(_0x22263d){if(_0x523941===_0x543ec2)throw _0x22263d;const _0x1ddf93=_0x5188ec*Math[_0x5399ce(0x1f3)](0x2,_0x523941-0x1);console[_0x5399ce(0x1fa)](_0x5399ce(0x211)+_0x523941+_0x5399ce(0x1e7)+_0x1ddf93+'ms...'),await new Promise(_0x5a6bc3=>setTimeout(_0x5a6bc3,_0x1ddf93));}}}function a0_0x2be2(_0x81b320,_0x284834){_0x81b320=_0x81b320-0x1d9;const _0x578482=a0_0x5784();let _0x2be20a=_0x578482[_0x81b320];return _0x2be20a;}module['exports']={'command':'song','aliases':[a0_0xf45408(0x204),a0_0xf45408(0x1f1),'mp3'],'category':a0_0xf45408(0x204),'description':a0_0xf45408(0x1fd),'usage':a0_0xf45408(0x1d9),async 'handler'(_0x38e7ad,_0x101920,_0x3fbb2f,_0x5c4ee0={}){const _0x258ffc=a0_0xf45408,_0x43f8df=_0x5c4ee0[_0x258ffc(0x1ea)]||_0x101920[_0x258ffc(0x1f5)]['remoteJid'],_0x5d3ce8=_0x3fbb2f[_0x258ffc(0x21c)]('\x20')['trim']();if(!_0x5d3ce8)return await _0x38e7ad[_0x258ffc(0x205)](_0x43f8df,{'text':'üéµ\x20*Song\x20Downloader*\x0a\x0aUsage:\x0a.song\x20<song\x20name\x20|\x20YouTube\x20link>'},{'quoted':_0x101920});try{let _0x1b718c,_0x591eac;if(_0x5d3ce8[_0x258ffc(0x202)](_0x258ffc(0x20b))||_0x5d3ce8[_0x258ffc(0x202)](_0x258ffc(0x21a))){_0x591eac=_0x5d3ce8;try{const _0xcb42fc=extractVideoId(_0x5d3ce8);if(_0xcb42fc){const _0x58c779=await yts({'videoId':_0xcb42fc});_0x1b718c=_0x58c779;}}catch(_0x3c9c1b){console['log'](_0x258ffc(0x218),_0x3c9c1b[_0x258ffc(0x221)]);}}else{const _0x5caba1=await yts(_0x5d3ce8);if(!_0x5caba1?.[_0x258ffc(0x1ef)]?.[_0x258ffc(0x210)])return await _0x38e7ad[_0x258ffc(0x205)](_0x43f8df,{'text':'‚ùå\x20No\x20results\x20found.\x20Please\x20try\x20a\x20different\x20search\x20term.'},{'quoted':_0x101920});_0x1b718c=_0x5caba1[_0x258ffc(0x1ef)][0x0],_0x591eac=_0x1b718c[_0x258ffc(0x1fc)];}_0x1b718c?.['thumbnail']?await _0x38e7ad[_0x258ffc(0x205)](_0x43f8df,{'image':{'url':_0x1b718c[_0x258ffc(0x1db)]},'caption':_0x258ffc(0x1dc)+_0x1b718c['title']+_0x258ffc(0x20c)+(_0x1b718c[_0x258ffc(0x1fb)]||_0x258ffc(0x1f9))+_0x258ffc(0x1da)},{'quoted':_0x101920}):await _0x38e7ad['sendMessage'](_0x43f8df,{'text':'‚è≥\x20Downloading...\x20Please\x20wait.'},{'quoted':_0x101920});const _0x19200e=await rateLimiter[_0x258ffc(0x1f7)](async()=>{const _0x5afbe7=_0x258ffc,_0x5733eb=_0x5afbe7(0x212)+encodeURIComponent(_0x591eac);return await fetchWithRetry(_0x5733eb);});if(!_0x19200e?.[_0x258ffc(0x1f0)]||!_0x19200e?.['data']?.[_0x258ffc(0x21e)])throw new Error(_0x258ffc(0x222));const _0x202090=_0x19200e[_0x258ffc(0x208)];let _0x28963=_0x202090[_0x258ffc(0x21e)],_0x3733d1=![];const _0x3260a9=[_0x202090[_0x258ffc(0x21e)],..._0x202090[_0x258ffc(0x1f2)]?.['filter'](_0x4ba353=>_0x4ba353[_0x258ffc(0x214)])['map'](_0x2232cc=>_0x2232cc['url'])||[]];for(const _0xeb1881 of _0x3260a9){try{await _0x38e7ad['sendMessage'](_0x43f8df,{'audio':{'url':_0xeb1881},'mimetype':_0x258ffc(0x1ed),'fileName':(_0x202090[_0x258ffc(0x20a)]||_0x1b718c?.[_0x258ffc(0x20a)]||_0x258ffc(0x1e6))+_0x258ffc(0x220),'ptt':![]},{'quoted':_0x101920}),_0x3733d1=!![];break;}catch(_0x5e5d4e){console[_0x258ffc(0x1fa)](_0x258ffc(0x207)+_0xeb1881+':',_0x5e5d4e[_0x258ffc(0x221)]);continue;}}if(!_0x3733d1)throw new Error(_0x258ffc(0x213));}catch(_0x11c0d4){console['error'](_0x258ffc(0x1df),_0x11c0d4);let _0x22a635=_0x258ffc(0x1e5);if(_0x11c0d4['message'][_0x258ffc(0x202)](_0x258ffc(0x1f4)))_0x22a635+=_0x258ffc(0x1e1);else{if(_0x11c0d4['message'][_0x258ffc(0x202)](_0x258ffc(0x1e8)))_0x22a635+=_0x258ffc(0x215);else _0x11c0d4[_0x258ffc(0x221)]['includes'](_0x258ffc(0x1eb))?_0x22a635+='Download\x20timed\x20out.\x20Try\x20a\x20shorter\x20video.':_0x22a635+=_0x258ffc(0x20d);}await _0x38e7ad['sendMessage'](_0x43f8df,{'text':_0x22a635},{'quoted':_0x101920});}}};function a0_0x5784(){const _0x2836d9=['1561mXynHx','minDelay','.song\x20<song\x20name\x20|\x20youtube\x20link>','\x0a\x0a‚è≥\x20Downloading...\x20Please\x20wait.','thumbnail','üé∂\x20*','4jGZmeE','get','Song\x20plugin\x20error:','112beEKtg','Service\x20is\x20busy.\x20Please\x20try\x20again\x20in\x20a\x20minute.','1devDIv','Rate\x20limit\x20exceeded.\x20Please\x20try\x20again\x20later.','status','‚ùå\x20Failed\x20to\x20download\x20song.\x20','song','\x20failed.\x20Retrying\x20in\x20','No\x20results','push','chatId','timeout','4279615HMmCkC','audio/mpeg','42262WvxUzz','videos','success','audio','alternativeUrls','pow','Rate\x20limit','key','statusText','add','3125678WNGDDa','Unknown','log','timestamp','url','Download\x20song\x20from\x20YouTube\x20(MP3)','retry-after','13099230EGoIlg','3482421QDuIaK','shift','includes','493578JOjwGx','music','sendMessage','axios','Failed\x20to\x20send\x20from\x20','data','lastRequest','title','youtube.com','*\x0a‚è±\x20Duration:\x20','Please\x20try\x20again\x20later.','match','headers','length','Attempt\x20','https://api.qasimdev.dpdns.org/api/loaderto/download?apiKey=qasim-dev&format=mp3&url=','All\x20download\x20URLs\x20failed','has_ssl','No\x20results\x20found.','yt-search','1368atHmdD','Could\x20not\x20fetch\x20video\x20info:','ms...','youtu.be','process','join','processing','downloadUrl','queue','.mp3','message','Invalid\x20API\x20response','17022htbEZU','Rate\x20limited.\x20Retrying\x20after\x20'];a0_0x5784=function(){return _0x2836d9;};return a0_0x5784();}function extractVideoId(_0x43afb2){const _0x21312b=a0_0xf45408,_0x4182dc=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/^([a-zA-Z0-9_-]{11})$/];for(const _0x4dd6f2 of _0x4182dc){const _0x421853=_0x43afb2[_0x21312b(0x20e)](_0x4dd6f2);if(_0x421853)return _0x421853[0x1];}return null;}
